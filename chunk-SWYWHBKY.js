import{c as Z,e as q,f as Y,j as y}from"./chunk-FNEIGVV3.js";import{a as re}from"./chunk-3LCGF45W.js";import{a as oe,b as ne,c as ae}from"./chunk-SNTC6ISU.js";import{g as ie}from"./chunk-6ZSGU6WM.js";import{a as ee,b as te}from"./chunk-WJCMRRD3.js";import{c as K,e as X,p as R}from"./chunk-SYIRRWMM.js";import"./chunk-T3Q3DASN.js";import{a as $,b as J}from"./chunk-LLJ4QRQX.js";import{N as j}from"./chunk-EKTMPHIH.js";import"./chunk-E4P4CAIP.js";import{$ as L,Gb as p,Mb as T,Nb as H,Pb as W,Qb as Q,Rb as o,Sb as n,Sd as S,Tb as a,Tc as G,Xb as E,_ as v,_a as b,_b as s,ab as z,ac as F,cb as d,ea as m,lb as h,na as M,oa as I,oc as l,pc as w,qb as c,rb as U,xa as N,xb as B,xc as C}from"./chunk-VU6Q4IP4.js";import{a as P,b as V}from"./chunk-TSRGIXR5.js";function de(t,r){if(t&1){let e=E();o(0,"button",1),s("click",function(){M(e);let _=F();return I(_.scrollToTop())}),o(1,"mat-icon"),l(2,"arrow_upward"),n()()}}var k=class t{isVisible=!1;onWindowScroll(){this.isVisible=window.scrollY>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["app-scroll-top-button"]],hostBindings:function(e,i){e&1&&s("scroll",function(){return i.onWindowScroll()},!1,z)},decls:1,vars:1,consts:[["mat-fab","","matTooltip","Scroll to top",1,"!fixed","bottom-4x","right-[66px]","bg-blue-500","hover:bg-blue-700","shadow-lg","transition-transform","transform","hover:scale-110","z-50"],["mat-fab","","matTooltip","Scroll to top",1,"!fixed","bottom-4x","right-[66px]","bg-blue-500","hover:bg-blue-700","shadow-lg","transition-transform","transform","hover:scale-110","z-50",3,"click"]],template:function(e,i){e&1&&B(0,de,3,0,"button",0),e&2&&T(i.isVisible?0:-1)},dependencies:[J,$,X,K,te,ee],encapsulation:2})};var f=class t extends ae{userRole=h([]);userDataLoaded=h(!1);user=h({});constructor(){super(ne.userManagement)}setUser(r,e){this.userDataLoaded.set(!0),this.userRole.set(r),this.user.set(e)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})};var g=class t{isOpened=h(!0);toggleSideBar(){this.isOpened.set(!this.isOpened()),this.saveSideBarStatusToLocalStorage()}openSideBar(){this.isOpened.set(!0),this.saveSideBarStatusToLocalStorage()}closeSideBar(){this.isOpened.set(!1),this.saveSideBarStatusToLocalStorage()}saveSideBarStatusToLocalStorage(){localStorage.setItem("sideBarStatus",JSON.stringify(this.isOpened()))}setSideBarStatusFromLocalStorage(){typeof window<"u"&&localStorage.getItem("sideBarStatus")&&this.isOpened.set(JSON.parse(localStorage.getItem("sideBarStatus")))}get menuItems(){return[{icon:"assets/icons/navbar/home-icon.svg",text:"Dashboard",link:"/dashboard",permissions:["ADMIN"],type:"link"},{icon:"assets/icons/navbar/user-icon.svg",text:"User Management",link:"/admin/user-management",permissions:["ADMIN"],type:"link"},{icon:"assets/icons/navbar/user-icon.svg",text:"Productivity Process",link:"/admin/process",permissions:["ADMIN"],type:"link"},{icon:"assets/icons/navbar/user-icon.svg",text:"Support Process",link:"/support/process",permissions:["SUPPORT"],type:"link"},{icon:"assets/icons/navbar/user-icon.svg",text:"Employee Management",link:"/employee/activities",permissions:["SUPPORT"],type:"link"}]}static \u0275fac=function(e){return new(e||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})};var x=class t{imgUrl=oe.imgURL;user={};sideBarService=m(g);profileService=m(f);buttonConfig=V(P({},re({icon:"menu",matType:ie.Fap})),{onClick:r=>this.toggleSidebar()});toggleSidebar(){this.sideBarService.toggleSideBar()}ngOnInit(){this.getLoggedInUser()}getLoggedInUser(){this.user=this.profileService.user(),this.profileService.userDataLoaded()||this.profileService.get().subscribe({next:r=>{this.user=r.payload;let e=this.user?.roles?.map(i=>i?.roleKey)??[];this.profileService.setUser(e.filter(i=>i!==void 0),r.payload)}})}logout(){location.href=`${window.location.origin}/mygate/login`}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["app-header"]],decls:21,vars:2,consts:[[1,"app-header","fixed","top-0","left-0","z-20","w-full"],[1,"bg-white","h-16","border-b","p-4","border-extended-silver"],[1,"grid","grid-cols-12"],[1,"col-span-12","justify-self-end"],[1,"flex","items-center","gap-5"],["src","./assets/icons/search-icon.svg","alt","search-icon",1,"action","w-9","h-9","cursor-pointer","object-cover"],["src","./assets/icons/notification.svg","alt","notification",1,"action","w-9","h-9","cursor-pointer","object-cover"],[1,"relative","inline-block"],["tabindex","0",1,"flex","items-center","gap-3","cursor-pointer","group"],["src","./assets/images/icons/avatar.png","alt","person-icon",1,"w-9","h-9","rounded-circle","object-cover",3,"src"],[1,"text-black-100","text-xs","lg:text-sm","leading-8","font-normal"],["src","./assets/icons/arrow-down-icon.svg","alt","arrow icon",1,"w-5","h-5","focus:outline-none"],[1,"dropdown"],[3,"click"]],template:function(e,i){e&1&&(o(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),a(5,"img",5)(6,"img",6),o(7,"div",7)(8,"div",8),a(9,"img",9),o(10,"span",10),l(11),n(),a(12,"img",11),n(),o(13,"div",12)(14,"ul")(15,"li"),l(16,"Profile"),n(),o(17,"li"),l(18,"Settings"),n(),o(19,"li",13),s("click",function(){return i.logout()}),l(20,"Logout"),n()()()()()()()()()),e&2&&(d(9),p("src",i.imgUrl+i.user.profileImage,b),d(2),w(i.user.name))},styles:[".rounded-circle[_ngcontent-%COMP%]{border-radius:50%}"]})};var se=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=U({type:t})}static{this.\u0275inj=L({imports:[j,R,R,j]})}}return t})();var le=t=>({"sidebar--closed":t});function pe(t,r){if(t&1&&(o(0,"li",7)(1,"a",8),a(2,"img",9),o(3,"span",10),l(4),n()()()),t&2){let e=r.$implicit;d(),p("routerLink",e.link)("state",e.permissions),d(),p("src",e.icon,b),d(2),w(e.text)}}var D=class t{sideBarService=m(g);isOpened=this.sideBarService.isOpened;menuItems=this.sideBarService.menuItems;drawerMode="side";profileService=m(f);userRole=this.profileService.userRole;constructor(){G(()=>{this.filterMenuItems()})}closeSidebar(){this.sideBarService.closeSideBar()}isSidebarClosed=!1;toggle=new N;onToggleSidebar(){this.isSidebarClosed=!this.isSidebarClosed,this.toggle.emit(this.isSidebarClosed)}filterMenuItems(){this.profileService.userRole().length&&(this.menuItems=this.menuItems.filter(r=>r.permissions.some(e=>this.userRole().includes(e)||this.userRole().some(i=>i.includes(e)))))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["app-side-menu"]],outputs:{toggle:"toggle"},decls:9,vars:3,consts:[[1,"sidebar","border","border-extended-silver",3,"ngClass"],[1,"sidebar__header"],[1,"sidebar__logo"],["src","assets/icons/navbar/logo.svg","alt","Logo",1,"sidebar__logo-img"],["src","assets/icons/navbar/arrow-expand.svg","alt","arrow-right",1,"sidebar__toggle",3,"click"],[1,"sidebar__menu-bar"],[1,"sidebar__menu-links"],["routerLinkActive","active",1,"sidebar__nav-link"],[3,"routerLink","state"],["alt","home",1,"home-icon",3,"src"],[1,"sidebar__text"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"header",1)(2,"div",2),a(3,"img",3),n(),o(4,"img",4),s("click",function(){return i.onToggleSidebar()}),n()(),o(5,"div",5)(6,"ul",6),W(7,pe,5,4,"li",7,H),n()()()),e&2&&(p("ngClass",C(1,le,i.isSidebarClosed)),d(7),Q(i.menuItems))},dependencies:[se,y,q,Y,S],encapsulation:2})};var me=t=>({"sidebar-closed":t}),A=class t{isSidebarClosed=!1;toggleSidebar(){this.isSidebarClosed=!this.isSidebarClosed}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["inspire-layout"]],decls:8,vars:3,consts:[[1,"app-layout",3,"ngClass"],[3,"toggle"],[1,"home"],[1,"content"],[1,"p-4","lg:p-8","mt-16"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"app-side-menu",1),s("toggle",function(){return i.toggleSidebar()}),n(),o(2,"div",2)(3,"main",3),a(4,"app-header"),o(5,"div",4),a(6,"router-outlet")(7,"app-scroll-top-button"),n()()()()),e&2&&p("ngClass",C(1,me,i.isSidebarClosed))},dependencies:[y,Z,D,x,k,S],encapsulation:2})};export{A as default};
